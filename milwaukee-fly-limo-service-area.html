<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Milwaukee Fly Limo</title>
  <meta name="description" content="Milwaukee Fly Limo, a leading limousine and transportation service provider, proudly serves Milwaukee, Wisconsin, and its neighboring areas, including Chicago, Illinois. Specializing in a wide array of premium transportation solutions, we cater to individual clients, businesses, and event organizers who prioritize reliability and comfort. Our licensed service features a team of professional, experienced chauffeurs and a contemporary fleet of luxurious SUV limousines, including the latest 2023 models. We offer diverse services such as black car service, livery service, airport shuttle service, and chauffeur service, all meticulously designed to meet your unique transportation needs. Top requested routes include efficient airport transfers to and from General Mitchell International Airport (MKE), O'Hare International Airport (ORD), Midway International Airport (MDW), and connections to Chicago. Additionally, we provide point-to-point transit to popular destinations like Lambeau Field, Millennium Park, McCormick Place, and other significant landmarks in Milwaukee and Chicago. At Milwaukee Fly Limo, punctuality is paramount, guaranteeing timely pickups and drop-offs to keep your schedule on track. Whether you're heading to a Green Bay Packers game, a Chicago Cubs match, a bachelorette or bachelor party, Summerfest, Lollapalooza, a golf outing, or a wine tour, our services ensure a luxurious and seamless travel experience. We extend our services to cover Cook County, DuPage County, Kenosha County, Racine County, and Sheboygan County, ensuring a broad reach for our valued customers. Our strong customer-focused approach, combined with transparent pricing and no hidden fees, ensures a personalized, stress-free experience. Safety and professionalism are our top priorities, promising you a secure and smooth ride every time you travel with us. Choose Milwaukee Fly Limo for your luxury transportation needs and enjoy the seamless blend of luxury, convenience, and exceptional service that defines our brand. Experience the highest standards of customer satisfaction and make your travels memorable with Milwaukee Fly Limo.">
  
  <!-- City Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Milwaukee Fly Limo",
  "description": "Milwaukee Fly Limo, a leading limousine and transportation service provider, proudly serves Milwaukee, Wisconsin, and its neighboring areas, including Chicago, Illinois. Specializing in a wide array of premium transportation solutions, we cater to individual clients, businesses, and event organizers who prioritize reliability and comfort. Our licensed service features a team of professional, experienced chauffeurs and a contemporary fleet of luxurious SUV limousines, including the latest 2023 models. We offer diverse services such as black car service, livery service, airport shuttle service, and chauffeur service, all meticulously designed to meet your unique transportation needs. Top requested routes include efficient airport transfers to and from General Mitchell International Airport (MKE), O'Hare International Airport (ORD), Midway International Airport (MDW), and connections to Chicago. Additionally, we provide point-to-point transit to popular destinations like Lambeau Field, Millennium Park, McCormick Place, and other significant landmarks in Milwaukee and Chicago. At Milwaukee Fly Limo, punctuality is paramount, guaranteeing timely pickups and drop-offs to keep your schedule on track. Whether you're heading to a Green Bay Packers game, a Chicago Cubs match, a bachelorette or bachelor party, Summerfest, Lollapalooza, a golf outing, or a wine tour, our services ensure a luxurious and seamless travel experience. We extend our services to cover Cook County, DuPage County, Kenosha County, Racine County, and Sheboygan County, ensuring a broad reach for our valued customers. Our strong customer-focused approach, combined with transparent pricing and no hidden fees, ensures a personalized, stress-free experience. Safety and professionalism are our top priorities, promising you a secure and smooth ride every time you travel with us. Choose Milwaukee Fly Limo for your luxury transportation needs and enjoy the seamless blend of luxury, convenience, and exceptional service that defines our brand. Experience the highest standards of customer satisfaction and make your travels memorable with Milwaukee Fly Limo.",
  "mainEntity": [
    {
      "@type": "Place",
      "name": "Milwaukee",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 43.0386475,
        "longitude": -87.9090751
      },
      "sameAs": "https://en.wikipedia.org/wiki/Milwaukee"
    },
    {
      "@type": "Place",
      "name": "Mequon",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 43.2219088,
        "longitude": -87.9822969
      },
      "sameAs": "https://en.wikipedia.org/wiki/Mequon%2C_Wisconsin"
    },
    {
      "@type": "Place",
      "name": "O'Hare",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 41.9751638,
        "longitude": -87.8442422
      },
      "sameAs": "https://en.wikipedia.org/wiki/O'Hare_International_Airport"
    },
    {
      "@type": "Place",
      "name": "Mitchell Airport",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 42.9465423,
        "longitude": -87.8972578
      },
      "sameAs": "https://en.wikipedia.org/wiki/Milwaukee_Mitchell_International_Airport"
    },
    {
      "@type": "Place",
      "name": "Midway Airport",
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 49.0098701,
        "longitude": -118.7893961
      },
      "sameAs": "https://en.wikipedia.org/wiki/Midway_International_Airport"
    }
  ]
}
</script>
  
  <!-- Custom Structured Data -->
  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "LocalBusiness",
  "name": "Milwaukee Fly Limo",
  "logo": "https://milwaukeeflylimo.com/wp-content/uploads/2024/06/03-file-mod-4.png",
  "image": "https://milwaukeeflylimo.com/wp-content/uploads/2024/07/limo-service-milwaukee-scaled.jpeg",
  "description": "Milwaukee Fly Limo, a leading limousine and transportation service provider, proudly serves Milwaukee, Wisconsin, and its neighboring areas, including Chicago, Illinois. Specializing in a wide array of premium transportation solutions, we cater to individual clients, businesses, and event organizers who prioritize reliability and comfort. Our licensed service features a team of professional, experienced chauffeurs and a contemporary fleet of luxurious SUV limousines, including the latest 2023 models. We offer diverse services such as black car service, livery service, airport shuttle service, and chauffeur service, all meticulously designed to meet your unique transportation needs. Top requested routes include efficient airport transfers to and from General Mitchell International Airport (MKE), O'Hare International Airport (ORD), Midway International Airport (MDW), and connections to Chicago. Additionally, we provide point-to-point transit to popular destinations like Lambeau Field, Millennium Park, McCormick Place, and other significant landmarks in Milwaukee and Chicago. At Milwaukee Fly Limo, punctuality is paramount, guaranteeing timely pickups and drop-offs to keep your schedule on track. Whether you're heading to a Green Bay Packers game, a Chicago Cubs match, a bachelorette or bachelor party, Summerfest, Lollapalooza, a golf outing, or a wine tour, our services ensure a luxurious and seamless travel experience. We extend our services to cover Cook County, DuPage County, Kenosha County, Racine County, and Sheboygan County, ensuring a broad reach for our valued customers. Our strong customer-focused approach, combined with transparent pricing and no hidden fees, ensures a personalized, stress-free experience. Safety and professionalism are our top priorities, promising you a secure and smooth ride every time you travel with us. Choose Milwaukee Fly Limo for your luxury transportation needs and enjoy the seamless blend of luxury, convenience, and exceptional service that defines our brand. Experience the highest standards of customer satisfaction and make your travels memorable with Milwaukee Fly Limo.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "10820 W National Ave.",
    "addressLocality": "West Allis",
    "addressRegion": "WI",
    "postalCode": "53227",
    "addressCountry": "US"
  },
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "+1-414-255-5537",
    "contactType": "Booking",
    "email": "Booking@milwaukeeflylimo.com"
  },
  "openingHoursSpecification": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": [
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday",
      "Sunday"
    ],
    "opens": "00:00",
    "closes": "23:59"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "42.99363340",
    "longitude": "-88.04796040"
  },
  "areaServed": [
    {
      "@type": "Place",
      "name": "Milwaukee, WI"
    },
    {
      "@type": "Place",
      "name": "Chicago, IL"
    },
    {
      "@type": "Place",
      "name": "Cook County, IL"
    },
    {
      "@type": "Place",
      "name": "DuPage County, IL"
    },
    {
      "@type": "Place",
      "name": "Kenosha County, WI"
    },
    {
      "@type": "Place",
      "name": "Racine County, WI"
    },
    {
      "@type": "Place",
      "name": "Sheboygan County, WI"
    }
  ],
  "service": [
    {
      "@type": "Service",
      "name": "Limousine Service",
      "category": "Limo Service",
      "additionalType": [
        "Airport Shuttle Service",
        "Chauffeur Service",
        "Transportation Service",
        "Wedding Service",
        "Charter Limousine",
        "Corporate Limousine",
        "ORD Limo Service",
        "MKE Limo Service",
        "Point To Point Limousine",
        "MDW Limousine",
        "Black Car Service",
        "Livery Service"
      ],
      "description": "Top rated customer service, 2023 SUV models, No hidden fees, Always on time, Licensed, Flawless airport transfers"
    }
  ]
}
</script>
  
  <style>
    body { 
      margin: 0; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      display: flex; 
      height: 100vh; 
      background: #f8fafc;
    }
    #map { 
      flex: 1;
      border-radius: 0 12px 12px 0;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    }
    .sidebar { 
      width: 380px; 
      padding: 24px; 
      background: white;
      overflow: auto;
      border-radius: 12px 0 0 12px;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    }
    .title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: #1e293b;
      text-align: center;
    }
    .tab { 
      padding: 12px 16px; 
      margin-bottom: 8px; 
      background: #f8fafc; 
      border: 1px solid #e2e8f0; 
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
    }
    .tab:hover {
      background: #e2e8f0;
      transform: translateY(-1px);
    }
    .tab.active { 
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      color: white;
      border-color: #1d4ed8;
      box-shadow: 0 4px 6px -1px rgb(59 130 246 / 0.3);
    }
    .tab-subtitle {
      font-size: 0.75rem;
      opacity: 0.8;
      margin-left: 4px;
    }
    .global-content {
      margin-bottom: 16px;
      padding: 12px;
      background: #f1f5f9;
      border-radius: 6px;
      font-size: 0.9rem;
      color: #475569;
    }
    .attribution {
      margin-top: 20px;
      padding: 12px;
      background: #f1f5f9;
      border-radius: 6px;
      font-size: 0.75rem;
      color: #64748b;
      text-align: center;
    }
    .social-links a {
      color: #3b82f6;
      text-decoration: none;
    }
    .social-links a:hover {
      text-decoration: underline;
    }
    .pagination-links a:hover {
      background: #1d4ed8 !important;
      transform: translateY(-1px);
    }
    .show-more-btn {
      width: 100%;
      padding: 10px;
      margin: 12px 0;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
    }
    .show-more-btn:hover {
      background: #e2e8f0;
    }
    .seo-city-list {
      opacity: 0.7;
    }
    
    /* Responsive iframe and video styles */
    .global-content iframe,
    .global-content video,
    .global-content embed,
    .global-content object {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgb(0 0 0 / 0.1);
    }
    
    /* YouTube and video container responsive wrapper */
    .global-content .video-container {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      margin: 12px 0;
    }
    
    .global-content .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }
    
    /* Auto-wrap YouTube iframes that aren't in containers */
    .global-content iframe[src*="youtube.com"],
    .global-content iframe[src*="youtu.be"] {
      width: 100%;
      height: 200px;
      min-height: 180px;
    }
    
    /* Google Maps iframe responsive */
    .global-content iframe[src*="google.com/maps"] {
      width: 100%;
      height: 250px;
      min-height: 200px;
    }
    
    /* General responsive images */
    .global-content img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgb(0 0 0 / 0.1);
    }
    
    /* Leaflet CSS overrides */
    .leaflet-container {
      font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
    }
    .leaflet-popup-content-wrapper {
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .leaflet-popup-content {
      margin: 12px 16px;
      line-height: 1.5;
    }
    .leaflet-popup-tip {
      width: 12px;
      height: 12px;
    }
    .leaflet-control-zoom a {
      border-radius: 4px;
    }
    .leaflet-bar {
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    @media (max-width: 768px) {
      body { flex-direction: column; }
      .sidebar { 
        width: 100%; 
        border-radius: 12px 12px 0 0;
        padding: 16px;
      }
      #map { border-radius: 0 0 12px 12px; }
      
      /* Mobile adjustments for embedded content */
      .global-content iframe[src*="youtube.com"],
      .global-content iframe[src*="youtu.be"] {
        height: 160px;
      }
      
      .global-content iframe[src*="google.com/maps"] {
        height: 200px;
      }
    }
    
    @media (max-width: 480px) {
      .sidebar {
        padding: 12px;
      }
      
      .global-content iframe[src*="youtube.com"],
      .global-content iframe[src*="youtu.be"] {
        height: 140px;
      }
      
      .global-content iframe[src*="google.com/maps"] {
        height: 180px;
      }
    }
  </style>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <div class="title">Milwaukee Fly Limo</div>
    <div class="global-content"><h2>Milwaukee Fly Limo</h2>
<p>Milwaukee Fly Limo, a leading limousine and transportation service provider, proudly serves Milwaukee, Wisconsin, and its neighboring areas, including Chicago, Illinois. Specializing in a wide array of premium transportation solutions, we cater to individual clients, businesses, and event organizers who prioritize reliability and comfort. Our licensed service features a team of professional, experienced chauffeurs and a contemporary fleet of luxurious SUV limousines, including the latest 2023 models. We offer diverse services such as black car service, livery service, airport shuttle service, and chauffeur service, all meticulously designed to meet your unique transportation needs. Top requested routes include efficient airport transfers to and from General Mitchell International Airport (MKE), O'Hare International Airport (ORD), Midway International Airport (MDW), and connections to Chicago. Additionally, we provide point-to-point transit to popular destinations like Lambeau Field, Millennium Park, McCormick Place, and other significant landmarks in Milwaukee and Chicago. At Milwaukee Fly Limo, punctuality is paramount, guaranteeing timely pickups and drop-offs to keep your schedule on track. Whether you're heading to a Green Bay Packers game, a Chicago Cubs match, a bachelorette or bachelor party, Summerfest, Lollapalooza, a golf outing, or a wine tour, our services ensure a luxurious and seamless travel experience. We extend our services to cover Cook County, DuPage County, Kenosha County, Racine County, and Sheboygan County, ensuring a broad reach for our valued customers. Our strong customer-focused approach, combined with transparent pricing and no hidden fees, ensures a personalized, stress-free experience. Safety and professionalism are our top priorities, promising you a secure and smooth ride every time you travel with us. Choose Milwaukee Fly Limo for your luxury transportation needs and enjoy the seamless blend of luxury, convenience, and exceptional service that defines our brand. Experience the highest standards of customer satisfaction and make your travels memorable with Milwaukee Fly Limo.</p>
<p><strong>Address:</strong> 10820 W National Ave., West Allis, WI, 53227</p>
<p><strong>Phone:</strong> +1-414-255-5537</p>
<p><strong>Email:</strong> Booking@milwaukeeflylimo.com</p>
<p><strong>Hours:</strong> Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday: 00:00 - 23:59</p><p><div style="margin: 20px 0; text-align: center;"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2918.270737299556!2d-88.0479604!3d42.9936334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88050f753ea9c9fb%3A0xe2aceddb5b400789!2sMilwaukee%20Fly%20Limo!5e0!3m2!1sen!2sus!4v1749917683643!5m2!1sen!2sus" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div><br></p>
</div>
    
    <div id="tabs"></div>
    
    
    <div class="social-links" style="margin-top: 16px; padding-top: 12px; border-top: 1px solid #e2e8f0;">
      <h4 style="margin: 0 0 8px 0; font-size: 0.9rem; font-weight: 600; color: #374151;">Find Us on the Web</h4>
      <div style="display: flex; flex-wrap: wrap; gap: 8px;">
        <span style="font-size: 0.8rem;"><a href="http://milwaukeeflylimo.com" target="_blank">Visit Website</a></span> • <span style="font-size: 0.8rem;"><a href="https://www.facebook.com/MilwaukeeFlyLimo" target="_blank">Facebook</a></span> • <span style="font-size: 0.8rem;"><a href="https://x.com/MKELimousine" target="_blank">Twitter</a></span> • <span style="font-size: 0.8rem;"><a href="https://www.linkedin.com/company/milwaukee-fly-limo/about/?viewAsMember=true" target="_blank">LinkedIn</a></span>
      </div>
    </div>
  
    <div class="attribution">
      Built with Interactive Map Builder<br>
      Map data &copy; OpenStreetMap contributors
    </div>
  </div>
  <div id="map"></div>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script>
    // Wait for Leaflet to load before initializing
    function initializeMap() {
      // ========== MAP DATA ==========
      const cities = [
      {
            "id": "milwaukee-wi",
            "name": "Milwaukee",
            "state": "WI",
            "lat": 43.0386475,
            "lng": -87.9090751,
            "zoom": 12,
            "popupHtml": "<p>Learn more about Milwaukee.</p>",
            "placeType": "city",
            "wikipediaUrl": "https://en.wikipedia.org/wiki/Milwaukee",
            "url": "https://milwaukeeflylimo.com",
            "anchor": "Milwaukee Limo Service",
            "popupTitle": "Milwaukee",
            "popupHeadingTag": "h3"
      },
      {
            "id": "mequon-wi",
            "name": "Mequon",
            "state": "WI",
            "lat": 43.2219088,
            "lng": -87.9822969,
            "zoom": 12,
            "popupHtml": "<p>Learn more about Mequon.</p>",
            "placeType": "city",
            "wikipediaUrl": "https://en.wikipedia.org/wiki/Mequon%2C_Wisconsin",
            "url": "https://milwaukeeflylimo.com/mequon-wisconsin/",
            "anchor": "Mequon WI",
            "popupTitle": "Mequon",
            "popupHeadingTag": "h3"
      },
      {
            "id": "ohare",
            "name": "O'Hare",
            "lat": 41.9751638,
            "lng": -87.8442422,
            "zoom": 12,
            "popupHtml": "<p>Learn more about O'Hare.</p>",
            "placeType": "city",
            "wikipediaUrl": "https://en.wikipedia.org/wiki/O'Hare_International_Airport",
            "url": "https://milwaukeeflylimo.com/ohare-limo-service/",
            "anchor": "O'Hare Limo Service",
            "popupTitle": "O'Hare",
            "popupHeadingTag": "h3"
      },
      {
            "id": "mitchell-airport",
            "name": "Mitchell Airport",
            "lat": 42.9465423,
            "lng": -87.8972578,
            "zoom": 12,
            "popupHtml": "<p>Learn more about Mitchell Airport.</p>",
            "placeType": "airport",
            "wikipediaUrl": "https://en.wikipedia.org/wiki/Milwaukee_Mitchell_International_Airport",
            "url": "https://milwaukeeflylimo.com/milwaukee-airport-limo-service/",
            "anchor": "Milwaukee Airport Limo Service",
            "popupTitle": "Mitchell Airport",
            "popupHeadingTag": "h3"
      },
      {
            "id": "midway-airport",
            "name": "Midway Airport",
            "lat": 49.0098701,
            "lng": -118.7893961,
            "zoom": 12,
            "popupHtml": "<h2>Midway Airport</h2>\nA distinguished transportation service provider caters to the needs of clients in Milwaukee, Wisconsin, and its surrounding regions, including Chicago, Illinois. This company specializes in a variety of premium transportation solutions, catering to individual clients, businesses, and event organizers who value reliability and comfort. The service boasts a team of professional, experienced chauffeurs and a contemporary fleet of luxurious SUV limousines, including the latest 2023 models.\n\nThe company offers diverse services such as black car service, livery service, airport shuttle service, and chauffeur service, all tailored to meet the unique transportation needs of its clients. Top requested routes include efficient airport transfers to and from General Mitchell International Airport (MKE), O'Hare International Airport (ORD), Midway International Airport (MDW), and connections to Chicago. Additionally, the service provides point-to-point transit to popular destinations like Lambeau Field, Millennium Park, McCormick Place, and other significant landmarks in Milwaukee and Chicago.\n\nPunctuality is a priority for this service, ensuring timely pickups and drop-offs to keep clients' schedules on track. Whether clients are heading to a Green Bay Packers game, a Chicago Cubs match, a bachelorette or bachelor party, Summerfest, Lollapalooza, a golf outing, or a wine tour, the service ensures a luxurious and seamless travel experience. The service extends its reach to cover Cook County, DuPage County, Kenosha County, Racine County, and Sheboygan County, ensuring a broad reach for its valued customers.\n\nThe company's strong customer-focused approach, combined with transparent pricing and no hidden fees, ensures a personalized, stress-free experience. Safety and professionalism are the top priorities, promising clients a secure and smooth ride every time they travel with the service. Choose this service for your luxury transportation needs and enjoy the seamless blend of luxury, convenience, and exceptional service. Experience the highest standards of customer satisfaction and make your travels memorable with this service.",
            "placeType": "city",
            "wikipediaUrl": "https://en.wikipedia.org/wiki/Midway_International_Airport",
            "url": "https://milwaukeeflylimo.com/car-service-chicago-midway/",
            "anchor": "Midway Car Service",
            "popupTitle": "Midway",
            "popupHeadingTag": "h3"
      }
];
      const showAllCities = false;
      const maxCitiesPerPage = 50;
      // =============================

      console.log('Leaflet loaded:', typeof L !== 'undefined');
      console.log('Cities data:', cities);
      console.log('First city structure:', cities[0]);

      if (!cities || !cities.length) {
        document.getElementById('sidebar').innerHTML = '<div class="title">No locations configured</div>';
        document.getElementById('map').innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:#64748b;">Add locations to display map</div>';
        return;
      }

      // Initialize map with proper coordinate format and validation
      const firstCity = cities[0];
      console.log('First city lat/lng:', firstCity.lat, firstCity.lng);
      
      // Validate coordinates exist and are numbers
      if (typeof firstCity.lat !== 'number' || typeof firstCity.lng !== 'number') {
        console.error('Invalid coordinates for first city:', firstCity);
        document.getElementById('map').innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:#dc2626;">Invalid location coordinates</div>';
        return;
      }
      
      try {
        const firstCityCoords = [firstCity.lat, firstCity.lng];
        const firstCityZoom = firstCity.zoom || 12;
        
        const map = L.map('map').setView(firstCityCoords, firstCityZoom);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Single marker for reuse
        let marker = L.marker(firstCityCoords)
          .addTo(map)
          .bindPopup(firstCity.popupHtml || firstCity.name)
          .openPopup();

        // Build sidebar tabs with optional pagination
        const tabsContainer = document.getElementById('tabs');
        let showingAll = showAllCities;
        
        const renderTabs = () => {
          const citiesToShow = showingAll ? cities : cities.slice(0, maxCitiesPerPage);
          
          tabsContainer.innerHTML = '';
          
          citiesToShow.forEach((city, idx) => {
            // Validate each city's coordinates
            if (typeof city.lat !== 'number' || typeof city.lng !== 'number') {
              console.warn('Invalid coordinates for city:', city.name, city);
              return;
            }
            
            const tab = document.createElement('div');
            tab.className = 'tab' + (idx === 0 ? ' active' : '');
            tab.innerHTML = city.name + (city.state ? '<span class="tab-subtitle">(' + city.state + ')</span>' : '');
            tab.onclick = () => {
              // Switch active tab
              document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
              tab.classList.add('active');
              // Pan/zoom map with proper coordinate format and validation
              const cityCoords = [city.lat, city.lng];
              const cityZoom = city.zoom || 12;
              console.log('Switching to city:', city.name, cityCoords, cityZoom);
              map.setView(cityCoords, cityZoom, { animate: true });
              // Move marker and update popup
              marker.setLatLng(cityCoords)
                    .setPopupContent(city.popupHtml || city.name)
                    .openPopup();
            };
            tabsContainer.appendChild(tab);
          });
          
          // Add show more/less button if needed
          if (!showAllCities && cities.length > maxCitiesPerPage) {
            const showMoreBtn = document.createElement('button');
            showMoreBtn.className = 'show-more-btn';
            showMoreBtn.innerHTML = showingAll ? 
              'Show less (first ' + maxCitiesPerPage + ')' : 
              'Show all ' + cities.length + ' locations';
            showMoreBtn.onclick = () => {
              showingAll = !showingAll;
              renderTabs();
            };
            tabsContainer.appendChild(showMoreBtn);
          }
        };
        
        renderTabs();
        
      } catch (error) {
        console.error('Error initializing map:', error);
        document.getElementById('map').innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:#dc2626;">Error loading map: ' + error.message + '</div>';
      }
    }

    // Initialize when page loads and Leaflet is available
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        // Small delay to ensure Leaflet CSS/JS is fully loaded
        setTimeout(initializeMap, 100);
      });
    } else {
      setTimeout(initializeMap, 100);
    }
  </script>
</body>
</html>